const Eventm=function(){const a=function(a,b){const c={dataInCache:null,state:null,stack:[]},d=b.promise&&new Promise((a,c)=>{b.resolve=a,b.reject=c})||void 0,e=a=>(b.promise&&("resolve"===c.state?b.resolve(c.dataInCache):b.reject(c.dataInCache)),"function"==typeof a?b.disableErrorParameter&&"resolve"===c.state?a(c.dataInCache):a("reject"===c.state&&c.dataInCache,"resolve"===c.state&&c.dataInCache):void 0),f=(b,d)=>f=>{if(null!==c.state&&!d)throw a+"_statement_is_already_set_to_"+c.state;c.state=b,c.dataInCache=f,c.stack.map(a=>e(a))};return this.getPromise=()=>d,this.resolveForced=f("resolve",!0),this.resolve=f("resolve"),this.reject=f("reject"),this.push=a=>{const d=c.stack.push(a)-1;return null!==c.state&&b.keepSession?e(a):d},this},b={};return this.getEvent=a=>b[a],this.create=(c,d,e)=>(e=e||{},e={keepSession:"boolean"!=typeof e.keepSession||e.keepSession,disableErrorParameter:"boolean"!=typeof e.disableErrorParameter||e.disableErrorParameter,promise:"boolean"==typeof e.promise&&e.promise},b[c]=b[c]||new a(c,e),b[c].push(d),b[c].getPromise()),this};module&&module.exports&&(module.exports=Eventm);