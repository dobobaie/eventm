const Eventm=function(){const a=function(a,b){const c={dataInCache:null,state:null,stack:[]},d=b.promise&&new Promise((a,c)=>{b.resolve=a,b.reject=c})||void 0,e=a=>"function"==typeof a?!0===b.promise?"reject"===c.state?void 0:a(c.dataInCache):a("reject"===c.state&&c.dataInCache,"resolve"===c.state&&c.dataInCache):void 0,f=(d,f)=>g=>{if(null!==c.state&&!f)throw a+"_statement_is_already_set_to_"+c.state;c.state=d,c.dataInCache=g,c.stack.map(a=>e(a)),"resolve"===c.state?b.resolve(c.dataInCache):b.reject(c.dataInCache)};return this.getPromise=()=>d,this.resolveForced=f("resolve",!0),this.resolve=f("resolve"),this.reject=f("reject"),this.push=a=>(c.stack.push(a)-1,null!==c.state&&b.keepSession&&e(a),this.getPromise()),this},b={};return this.getEvent=a=>b[a],this.create=(c,d)=>(d=d||{},d={keepSession:"boolean"!=typeof d.keepSession||d.keepSession,promise:"boolean"!=typeof d.promise||d.promise},b[c]=b[c]||new a(c,d),b[c]),this};module&&module.exports&&(module.exports=Eventm);