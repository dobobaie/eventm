const Eventm=function(){const a=function(a,b){const c={dataInCache:null,state:null,stack:[]},d=b.promise&&new Promise((a,c)=>{b.resolve=a,b.reject=c})||void 0,e=a=>(b.promise&&("resolve"===c.state?b.resolve(c.dataInCache):b.reject(c.dataInCache)),"function"==typeof a?b.disableErrorParameter&&"resolve"===c.state?a(c.dataInCache):a("reject"===c.state&&c.dataInCache,"resolve"===c.state&&c.dataInCache):void 0),f=b=>d=>{if(null!==c.state)throw a+"_statement_is_already_set_to_"+c.state;c.state=b,c.dataInCache=d,c.stack.map(a=>e(a)),c.stack=[]};return this.getPromise=()=>d,this.resolve=f("resolve"),this.reject=f("reject"),this.push=a=>{if(null!==c.state&&b.keepSession)return e(a);const d=c.stack.push(a)-1;return d},this},b={};return this.getEvent=a=>b[a],this.create=(c,d,e)=>(e={keepSession:!(e&&"boolean"==typeof e.keepSession)||e.keepSession,disableErrorParameter:!!(e&&"boolean"==typeof e.disableErrorParameter)&&e.disableErrorParameter,promise:!!(e&&"boolean"==typeof e.promise)&&e.promise},b[c]=b[c]||new a(c,e),b[c].push(d),b[c].getPromise()),this};module&&module.exports&&(module.exports=Eventm);